# External services pointing to agentic cluster (10.20.0.40)
# Migrated from NodePorts to Traefik LB (port 80) with Host header routing
---
apiVersion: v1
kind: Service
metadata:
  name: matrix-external
  namespace: apps
  labels:
    app.kubernetes.io/name: matrix-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: langgraph-external
  namespace: apps
  labels:
    app.kubernetes.io/name: langgraph-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: vikunja-external
  namespace: apps
  labels:
    app.kubernetes.io/name: vikunja-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: mcp-config-sync-external
  namespace: apps
  labels:
    app.kubernetes.io/name: mcp-config-sync-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Outline service - nginx sidecar in agentic cluster handles robots.txt
apiVersion: v1
kind: Service
metadata:
  name: outline-external
  namespace: apps
  labels:
    app.kubernetes.io/name: outline-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Backrest backup management UI
apiVersion: v1
kind: Service
metadata:
  name: backrest-external
  namespace: apps
  labels:
    app.kubernetes.io/name: backrest-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Garage S3 storage web UI (on TrueNAS-HDD)
apiVersion: v1
kind: Service
metadata:
  name: garage-external
  namespace: apps
  labels:
    app.kubernetes.io/name: garage-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Silver Bullet markdown PKM (agentic cluster)
apiVersion: v1
kind: Service
metadata:
  name: silverbullet-external
  namespace: apps
  labels:
    app.kubernetes.io/name: silverbullet-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Kernow Hub unified PWA (agentic cluster)
apiVersion: v1
kind: Service
metadata:
  name: kernow-hub-external
  namespace: apps
  labels:
    app.kubernetes.io/name: kernow-hub-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
---
# Tamar PWA (Synapse LXC 10.10.0.22)
apiVersion: v1
kind: Service
metadata:
  name: tamar-external
  namespace: apps
  labels:
    app.kubernetes.io/name: tamar-external
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
