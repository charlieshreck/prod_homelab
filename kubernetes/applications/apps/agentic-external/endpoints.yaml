# Manual endpoints for external services pointing to agentic cluster NodePorts
# Required because services with no selector don't auto-create endpoints
---
apiVersion: v1
kind: Endpoints
metadata:
  name: matrix-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 30167
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: langgraph-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 30800
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: vikunja-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31095
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: claude-refresh-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31110
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: mcp-config-sync-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31103
        protocol: TCP
---
# Outline with nginx sidecar (handles robots.txt internally)
apiVersion: v1
kind: Endpoints
metadata:
  name: outline-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31113
        protocol: TCP
---
# Backrest backup management UI (agentic cluster)
apiVersion: v1
kind: Endpoints
metadata:
  name: backrest-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31115
        protocol: TCP
---
# Garage S3 storage web UI (TrueNAS-HDD)
apiVersion: v1
kind: Endpoints
metadata:
  name: garage-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.103
    ports:
      - name: http
        port: 30186
        protocol: TCP
---
# Silver Bullet markdown PKM (agentic cluster)
apiVersion: v1
kind: Endpoints
metadata:
  name: silverbullet-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31116
        protocol: TCP
---
# NeoDash graph visualization (via agentic Traefik ingress)
apiVersion: v1
kind: Endpoints
metadata:
  name: neodash-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.90
    ports:
      - name: http
        port: 80
        protocol: TCP
