# Manual endpoints for external services pointing to agentic cluster NodePorts
# Required because services with no selector don't auto-create endpoints
---
apiVersion: v1
kind: Endpoints
metadata:
  name: matrix-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 30167
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: langgraph-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 30800
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: vikunja-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31095
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: claude-refresh-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31110
        protocol: TCP
---
apiVersion: v1
kind: Endpoints
metadata:
  name: mcp-config-sync-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31103
        protocol: TCP
---
# Outline with nginx sidecar (handles robots.txt internally)
apiVersion: v1
kind: Endpoints
metadata:
  name: outline-external
  namespace: apps
subsets:
  - addresses:
      - ip: 10.20.0.40
    ports:
      - name: http
        port: 31113
        protocol: TCP
